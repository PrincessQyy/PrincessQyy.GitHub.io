---
layout:     post
title:      "【Linux】那些年我掉过的坑"
date:       2017-04-18 20:53:00
author:     "Yuki"
---

这篇博客，持续更新，主要是记录一些容易被人忽略的点。

#### 权限问题

之前在学习Linux权限的时候，想必大多数课程都会说，对于r、w、x这三个权限，记住对应的值是4、2、1就行了，在学到umask（文件的默认权限）时，我发现单纯使用数值计算有个bug，普通用户创建的文件权限一般是：666-umask，通过命令 `umask 003`把umask的值设为003,然后以普通用户身份创建一个文件，这里我创建的叫 `test_file`，按照数值计算的结果，666-003=663,文件的权限应该为：rw-rw--wx，发现bug了吗？初始的 666 对应的权限是 rw-rw-rw，减去umask后，这种计算方式还多出了个x权限，显然，这是不可能的，所以简单利用数值计算的时候，要注意这个坑！比较保险的算法就是权限直接相减，比如666和003，转化为权限分别为：：rw-rw-rw 、-------wx，相减后，权限是：rw-rw-r--,验证如下：

<img src="../../../../../img/blogs/holes/01.png">

