# 2017.07-09京东实习心得

2017年7月，结束了学校的考试，开始了人生中第一份实习，可以说是开始了一个新的起点吧。在公司的实习基本上是朝九晚九，每天上下班25分钟路程，北京气候比长沙好太多，所以生活方面还是蛮舒服的。废话不多说，下面就分几个部分来写写这次实习的收获与体会吧。

## 新人学习经验

入职后加入了用户接入部，我们部门主要是负责用户接入，也就是把所有请求接入进来，是很重要的部门，毕竟京东所有业务的接入都在我们部门。工作上接触了很多新的东西，很多我以前没有考虑过的制度和规范。刚入职的两周，基本就是白天看各种CF上的文档，晚上春雷哥给我们培训，随着了解得越来越多，不了解的也越来越多了，所以需要不断去思考，去请教，去总结。新人学习方面，个人觉得没什么捷径，我的经验就是多看、多讨论、多请教，多总结。

**多看：**多看自然不必多说，到了一个新环境，最快熟悉的办法，一定是看知识库，那里有部门的整体介绍和各种需要遵守的规章制度，尤其是制度，这是最最最重要的。制度可以让你少走很多弯路，少范很多错误，也可以让你在以后出错的时候更容易的发现错误。还有一点就是多看看周围的人是怎么学习和工作的，在学校接触的牛人太少，在公司天天都能见着大佬们，他们的工作态度和作风都很值得学习的。

**多讨论：**新人之间多讨论，多个人的力量加在一起，学习起来也快。特别是在自己遇到一些可能很低级但是半天都想不明白的问题的时候，最快办法的一定把问题说出来，然后和一起实习的小伙伴们一起讨论。因为自己在学习原理的时候，经常会对某些名词的含义不是很清楚，这种东西网上也根本查不到，所以基本都是问问小伙伴们是怎么理解的，听听他们的理解，自己也会豁然开朗。

**多请教：**公司为每个人安排一个导师，有问题应该主动向师兄请教，但前提是自己已经尽力去解决。因为军哥平时很忙（运维的前辈们每天工作都挺忙），所以遇到什么和线上操作或者是产品有关的疑问，一定要自己先去解决，实在不清楚的时候，一定要毫不犹豫及时主动的去问！千万不能拖着，很多事情拖着拖着最后可能就忘了问了。请教的话，不清楚的地方要及时提出来，尽量不要一个问题当时弄明白了，后面琢磨的时候发现还有不明白的点，然后反复去问，要珍惜别人的时间，当然，做到这一点的前提就是在提问前对问题有一定的思考，这样才能在别人的讲解中发现自己存疑的点。

**多总结：**对遇到的问题、学到的东西要勤于总结。很多新学会的东西，如果一时半会儿用不上，那么过不了多久就一定会忘了(；′⌒`) 我在一开始的时候就有这个问题，觉得每天晚上培训的时候都有“海量”的信息涌入我的大脑，如果笔记做得不及时，或者事后因为回家太晚没有总结，要不了几天，雷哥提问的时候就大脑一片空白了- -，所以，及时总结真的很重要！总结的过程其实就是给大脑建立线索的过程，很多知识看起来是零碎的，但是可能两两之间是会有联系的，梳理线索的过程中可能会对全局看得比较清楚，知识点也串起来了。

## 不要轻视简单的事情

入职第四周开始跟着雷哥做机器梳理的活儿，初步了解雷哥的需求，觉得这个事情很简单，然后就开始了一堆无脑的操作，其实就是需求没对明白，大目标不明确，所以每做好一步，就要去找雷哥问下一步该做什么，而且因为目标不明确，所以每一步其实我们是不太懂为什么要去做的，后来晚上雷哥大概也发现了这么做不行，于是和我们详细的说明了一下情况，背景是京东有几个存放机器信息的数据库由于信息更新不及时（新机器上线没来得及注册、旧机器下线或者不再使用也没移除等），导致机器数目可能和实际机器数目有差异，所以需要我们梳理统计机器的信息。细节我也不多说了，大概就是求几个机器集合的交集、并集、差集等。明确了需求之后，才发现其实很简单，而且也渐渐能理清思路明确这个事情要怎么去做，每一步做什么。

还有一次，因为要处理的数据比较复杂，而且雷哥下了deadline，因为一开始没有想好代码逻辑，没有信心在deadline之前把脚本写出来，所以我们竟然蠢到要人工去完成任务，结果就是不但到了deadline还没完成。。。而且长时间人工操作简直让人头昏脑涨，数据的准确性也没法保证，并且，做到一半的时候发现其实即使是人工操作也有很简单的办法，哎，吃了不用脑子的亏，以后工作中一定一定要避免这样的事情再发生。

这次的事情也让我明白即使是做再简单的事，首先都要明白终极目标，然后在终极目标下制定小目标，在完成小目标之前花足够的时间去思考怎么去做，最好能够制定详细的计划，第一步干什么，第二步干什么...不能做一步看一步。

## 对线上操作保持敬畏

可以说，从我来京东的第一天，就对服务器有种莫名的好奇，一直希望能够登上机器，看看线上情况，执行线上操作，￣ω￣= 可能是因为之前都只是在虚拟机上搭建服务器，没有操作过真的服务器，所以服务器对我一直有一种神秘的吸引力。在第八周的时候，终于军哥说手上有一批新的服务器了，需要我完成一些初始化的操作，其实就是修改下IP，搭个bond，可以说是很激动了，在得知需求的第一时间，我就去学了bond的配置，然后参照军哥给的脚本写了个脚本。因为bond脚本执行之后，最好还是人工去验证一下，而且机器数量很少，只有12台，军哥就建议我每一台都去执行下脚本，然后验证是不是执行成功了。在执行到第10台机器的时候，跑完脚本因为要重启network，我当时手误就写了 start，结果网络一直没启动，就卡在那个环节，然后我按Ctrl+C 也没用，卡了好久什么也动不了，我也有点慌，想着先退出登录，再重新ssh一次，结果我网络压根儿没启动，我这一退出，就登不上去了。。。最后还是军哥通过lo口地址登上服务器解决了这个问题的。虽然说没造成什么影响，但是确实也是吓得一身冷汗啊，之前听过别人犯过的错，觉得虽然线上操作有风险，但是是可以避免的，没想到自己操作的时候，觉得机器数量少，就手工重启服务，还是掉以轻心了。我的这次小事故，如果把操作都写下来，到时候复制粘贴，或者把重启的操作也写进脚本里，确实是完全可以避免这次事故的。

这次之后，让我觉得即使是在堡垒机上也要谨慎操作，想了些危险的后果，于是写了个脚本，更改了家目录下的 .bashrc 配置，把危险的 `rm -f`和 `rm`命令起了个别名，在执行这个操作的时候，会把我删除的文件移动到trash文件夹里，不过随着时间越来越长，删除的文件很多的话，可能我的trash文件夹会越来越大，所以还应该设置一个定时任务，每个月或者每周定时清理下trash文件夹。为了避免在执行`rm -f`和`rf`时，有时候可能大脑没反应过来，一些重要的文件被删除了，安全措施很必要！而且安全意识一定要从每一件小事去培养，再小的操作，都必须想清楚后果，做好安全措施！


线上的数据其实真的很“脆弱”，最好及时做好备份，多处备份是最好的，而且真的必须对线上操作保持敬畏之心，如果要执行线上操作，必须想好可能出现的问题及解决方案，想好失败如何回滚，把每一步操作提前写好，不打无准备的仗。
## 加强团队合作